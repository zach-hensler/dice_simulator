(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var j,p,me,H,ee,ge,q,V={},K=[],Se=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X=Array.isArray;function O(e,t){for(var n in t)e[n]=t[n];return e}function ve(e){var t=e.parentNode;t&&t.removeChild(e)}function Oe(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?j.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return R(e,s,r,o,null)}function R(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++me,__i:-1,__u:0};return o==null&&p.vnode!=null&&p.vnode(i),i}function D(e){return e.children}function A(e,t){this.props=e,this.context=t}function N(e,t){if(t==null)return e.__?N(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?N(e):null}function He(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=O({},o)).__v=o.__v+1,p.vnode&&p.vnode(r),Q(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??N(o),!!(32&o.__u),n),r.__v=o.__v,r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&ye(r),r}function ye(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ye(e)}}function te(e){(!e.__d&&(e.__d=!0)&&H.push(e)&&!U.__r++||ee!==p.debounceRendering)&&((ee=p.debounceRendering)||ge)(U)}function U(){var e,t,n,r=[],o=[];for(H.sort(q);e=H.shift();)e.__d&&(n=H.length,t=He(e,r,o)||t,n===0||H.length>n?(B(r,t,o),o.length=r.length=0,t=void 0,H.sort(q)):t&&p.__c&&p.__c(t,K));t&&B(r,t,o),U.__r=0}function be(e,t,n,r,o,i,s,a,c,l,f){var _,h,d,g,w,b=r&&r.__k||K,m=t.length;for(n.__d=c,Ne(n,t,b),c=n.__d,_=0;_<m;_++)(d=n.__k[_])!=null&&typeof d!="boolean"&&typeof d!="function"&&(h=d.__i===-1?V:b[d.__i]||V,d.__i=_,Q(e,d,h,o,i,s,a,c,l,f),g=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&Y(h.ref,null,d),f.push(d.ref,d.__c||g,d)),w==null&&g!=null&&(w=g),65536&d.__u||h.__k===d.__k?c=xe(d,c,e):typeof d.type=="function"&&d.__d!==void 0?c=d.__d:g&&(c=g.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=c,n.__e=w}function Ne(e,t,n){var r,o,i,s,a,c=t.length,l=n.length,f=l,_=0;for(e.__k=[],r=0;r<c;r++)s=r+_,(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?R(null,o,null,null,null):X(o)?R(D,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?R(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=Ce(o,n,s,f),o.__i=a,i=null,a!==-1&&(f--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&_--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?_++:a>s?f>c-s?_+=a-s:_--:a<s?a==s-1&&(_=a-s):_=0,a!==r+_&&(o.__u|=65536))):(i=n[s])&&i.key==null&&i.__e&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=N(i)),J(i,i,!1),n[s]=null,f--);if(f)for(r=0;r<l;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=N(i)),J(i,i))}function xe(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=xe(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Ce(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type&&!(131072&c.__u))return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&!(131072&c.__u)&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&o==c.key&&i===c.type)return a;a++}}return-1}function ne(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Se.test(t)?n:n+"px"}function E(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ne(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ne(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?oe:re,i)):e.removeEventListener(t,i?oe:re,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function re(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(p.event?p.event(e):e)}}function oe(e){if(this.l)return this.l[e.type+!0](p.event?p.event(e):e)}function Q(e,t,n,r,o,i,s,a,c,l){var f,_,h,d,g,w,b,m,x,S,L,C,Z,$,W,k=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(f=p.__b)&&f(t);e:if(typeof k=="function")try{if(m=t.props,x=(f=k.contextType)&&r[f.__c],S=f?x?x.props.value:f.__:r,n.__c?b=(_=t.__c=n.__c).__=_.__E:("prototype"in k&&k.prototype.render?t.__c=_=new k(m,S):(t.__c=_=new A(m,S),_.constructor=k,_.render=Pe),x&&x.sub(_),_.props=m,_.state||(_.state={}),_.context=S,_.__n=r,h=_.__d=!0,_.__h=[],_._sb=[]),_.__s==null&&(_.__s=_.state),k.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=O({},_.__s)),O(_.__s,k.getDerivedStateFromProps(m,_.__s))),d=_.props,g=_.state,_.__v=t,h)k.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(k.getDerivedStateFromProps==null&&m!==d&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(m,S),!_.__e&&(_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(m,_.__s,S)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(_.props=m,_.state=_.__s,_.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(T){T&&(T.__=t)}),L=0;L<_._sb.length;L++)_.__h.push(_._sb[L]);_._sb=[],_.__h.length&&s.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(m,_.__s,S),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(d,g,w)})}if(_.context=S,_.props=m,_.__P=e,_.__e=!1,C=p.__r,Z=0,"prototype"in k&&k.prototype.render){for(_.state=_.__s,_.__d=!1,C&&C(t),f=_.render(_.props,_.state,_.context),$=0;$<_._sb.length;$++)_.__h.push(_._sb[$]);_._sb=[]}else do _.__d=!1,C&&C(t),f=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++Z<25);_.state=_.__s,_.getChildContext!=null&&(r=O(O({},r),_.getChildContext())),h||_.getSnapshotBeforeUpdate==null||(w=_.getSnapshotBeforeUpdate(d,g)),be(e,X(W=f!=null&&f.type===D&&f.key==null?f.props.children:f)?W:[W],t,n,r,o,i,s,a,c,l),_.base=t.__e,t.__u&=-161,_.__h.length&&s.push(_),b&&(_.__E=_.__=null)}catch(T){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),p.__e(T,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ve(n.__e,t,n,r,o,i,s,c,l);(f=p.diffed)&&f(t)}function B(e,t,n){for(var r=0;r<n.length;r++)Y(n[r],n[++r],n[++r]);p.__c&&p.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){p.__e(i,o.__v)}})}function Ve(e,t,n,r,o,i,s,a,c){var l,f,_,h,d,g,w,b=n.props,m=t.props,x=t.type;if(x==="svg"&&(o=!0),i!=null){for(l=0;l<i.length;l++)if((d=i[l])&&"setAttribute"in d==!!x&&(x?d.localName===x:d.nodeType===3)){e=d,i[l]=null;break}}if(e==null){if(x===null)return document.createTextNode(m);e=o?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,m.is&&m),i=null,a=!1}if(x===null)b===m||a&&e.data===m||(e.data=m);else{if(i=i&&j.call(e.childNodes),b=n.props||V,!a&&i!=null)for(b={},l=0;l<e.attributes.length;l++)b[(d=e.attributes[l]).name]=d.value;for(l in b)d=b[l],l=="children"||(l=="dangerouslySetInnerHTML"?_=d:l==="key"||l in m||E(e,l,null,d,o));for(l in m)d=m[l],l=="children"?h=d:l=="dangerouslySetInnerHTML"?f=d:l=="value"?g=d:l=="checked"?w=d:l==="key"||a&&typeof d!="function"||b[l]===d||E(e,l,d,b[l],o);if(f)a||_&&(f.__html===_.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(_&&(e.innerHTML=""),be(e,X(h)?h:[h],t,n,r,o&&x!=="foreignObject",i,s,i?i[0]:n.__k&&N(n,0),a,c),i!=null)for(l=i.length;l--;)i[l]!=null&&ve(i[l]);a||(l="value",g!==void 0&&(g!==e[l]||x==="progress"&&!g||x==="option"&&g!==b[l])&&E(e,l,g,b[l],!1),l="checked",w!==void 0&&w!==e[l]&&E(e,l,w,b[l],!1))}return e}function Y(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){p.__e(r,n)}}function J(e,t,n){var r,o;if(p.unmount&&p.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Y(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){p.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&J(r[o],t,n||typeof e.type!="function");n||e.__e==null||ve(e.__e),e.__=e.__e=e.__d=void 0}function Pe(e,t,n){return this.constructor(e,n)}function Le(e,t,n){var r,o,i,s;p.__&&p.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],s=[],Q(t,e=(!r&&n||t).__k=Oe(D,null,[e]),o||V,V,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?j.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,s),e.__d=void 0,B(i,e,s)}j=K.slice,p={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},me=0,A.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=O({},this.state),typeof e=="function"&&(e=e(O({},n),this.props)),e&&O(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),te(this))},A.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),te(this))},A.prototype.render=D,H=[],ge=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(e,t){return e.__v.__b-t.__v.__b},U.__r=0;var I,v,z,ie,_e=0,we=[],F=[],y=p,le=y.__b,se=y.__r,ce=y.diffed,ue=y.__c,ae=y.unmount,de=y.__;function ke(e,t){y.__h&&y.__h(v,e,_e||t),_e=0;var n=v.__H||(v.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:F}),n.__[e]}function $e(e,t,n){var r=ke(I++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Ae(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=v,!v.u)){var o=function(a,c,l){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!i||i.call(this,a,c,l);var _=!1;return f.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(_=!0)}}),!(!_&&r.__c.props===a)&&(!i||i.call(this,a,c,l))};v.u=!0;var i=v.shouldComponentUpdate,s=v.componentWillUpdate;v.componentWillUpdate=function(a,c,l){if(this.__e){var f=i;i=void 0,o(a,c,l),i=f}s&&s.call(this,a,c,l)},v.shouldComponentUpdate=o}return r.__N||r.__}function fe(e,t){var n=ke(I++,7);return Re(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Te(){for(var e;e=we.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(M),e.__H.__h.forEach(G),e.__H.__h=[]}catch(t){e.__H.__h=[],y.__e(t,e.__v)}}y.__b=function(e){v=null,le&&le(e)},y.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),de&&de(e,t)},y.__r=function(e){se&&se(e),I=0;var t=(v=e.__c).__H;t&&(z===v?(t.__h=[],v.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=F,n.__N=n.i=void 0})):(t.__h.forEach(M),t.__h.forEach(G),t.__h=[],I=0)),z=v},y.diffed=function(e){ce&&ce(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(we.push(t)!==1&&ie===y.requestAnimationFrame||((ie=y.requestAnimationFrame)||Ee)(Te)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==F&&(n.__=n.__V),n.i=void 0,n.__V=F})),z=v=null},y.__c=function(e,t){t.some(function(n){try{n.__h.forEach(M),n.__h=n.__h.filter(function(r){return!r.__||G(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],y.__e(r,n.__v)}}),ue&&ue(e,t)},y.unmount=function(e){ae&&ae(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{M(r)}catch(o){t=o}}),n.__H=void 0,t&&y.__e(t,n.__v))};var he=typeof requestAnimationFrame=="function";function Ee(e){var t,n=function(){clearTimeout(r),he&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);he&&(t=requestAnimationFrame(n))}function M(e){var t=v,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),v=t}function G(e){var t=v;e.__c=e.__(),v=t}function Re(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Ae(e,t){return typeof t=="function"?t(e):t}const P=e=>{throw new Error("Didn't expect to get here")},Fe=e=>{switch(e){case"none":return"";case"chooseHighest":return"CH";case"chooseLowest":return"CL";default:return P()}},pe=(e,t)=>{const n=Object.entries(e),r=Object.entries(t);return n.length!==r.length?!1:!n.find(([o,i])=>{const s=r.find(([a,c])=>o===a);return!s||s[1]!==i})},Me=e=>{const{savedSettings:t,diceValues:n,...r}=e;return r},Ue=(e,t)=>({getLocalStorage:()=>JSON.parse(window.localStorage.getItem(e)||JSON.stringify(t)),setLocalStorage:o=>window.localStorage.setItem(e,JSON.stringify(o))});var Ie=0;function u(e,t,n,r,o,i){var s,a,c={};for(a in t)a=="ref"?s=t[a]:c[a]=t[a];var l={type:e,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ie,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(a in s)c[a]===void 0&&(c[a]=s[a]);return p.vnode&&p.vnode(l),l}const je=({state:e,histogram:t})=>e.histogramView==="horizontal"?u("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"row",maxWidth:"80%",overflow:"scroll"},children:t.map(([n,r])=>[n,r].some(isNaN)?u(D,{}):u("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center"},children:[u("div",{children:r}),u("div",{style:{backgroundColor:"gray",width:"15px",height:`${200*r/e.numberOfRolls}px`}}),u("div",{style:{width:"15px",margin:"0 5px"},children:u("b",{children:n})})]}))}):u("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[u("div",{style:{display:"flex",flexDirection:"column"},children:t.map(([n,r])=>[n,r].some(isNaN)?u(D,{}):u("div",{style:{textAlign:"center",display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:[u("div",{children:r}),u("div",{style:{backgroundColor:"gray",height:"20px",width:`${300*r/e.numberOfRolls}px`}}),u("div",{style:{width:"20px",margin:"0 5px",borderRight:"solid rgba(105, 105, 105, 0.4) 3px"},children:u("b",{children:n})})]}))}),u("div",{style:{display:"flex",flexDirection:"column"},children:[...t].reverse().map(([n,r])=>[n,r].some(isNaN)?u(D,{}):u("div",{style:{textAlign:"center",display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:[u("div",{style:{width:"20px",margin:"0 5px",borderLeft:"solid rgba(105, 105, 105, 0.4) 3px"},children:u("b",{children:n})}),u("div",{style:{backgroundColor:"gray",height:"20px",width:`${300*r/e.numberOfRolls}px`}}),u("div",{children:r})]}))})]}),We=e=>{if([e.numberOfDice,e.numberOfDice].some(isNaN))return[];const t=(r,o,i)=>{switch(i){case"none":return r+o;case"chooseHighest":return r>o?r:o;case"chooseLowest":return r>o||r===0?o:r;default:return P()}},n=[];for(let r=0;r<e.numberOfRolls;r++){let o=0;for(let i=0;i<e.numberOfDice;i++)o=t(o,Math.floor(Math.random()*e.sidesPerDice)+1,e.modifiers);n.push(o)}return n},ze=e=>{switch(e.modifiers){case"none":return e.numberOfDice;case"chooseLowest":case"chooseHighest":return 1;default:return P(e.modifiers)}},qe=e=>{switch(e.modifiers){case"none":return e.numberOfDice*e.sidesPerDice;case"chooseLowest":case"chooseHighest":return e.sidesPerDice;default:return P(e.modifiers)}},De=e=>{var o;if(!e.diceValues.length)return[];const t={},n=ze(e),r=qe(e);for(let i=n;i<=r;i++)t[i]=0;return(o=e.diceValues)==null||o.forEach(i=>t[i]+=1),Object.entries(t).map(i=>[parseInt(i[0]),i[1]])},Be=e=>De(e).reduce((t,n)=>{const r=n[0],o=n[1];return t+r*o/e.numberOfRolls},0),Je=e=>({histogramView:"horizontal",modifiers:"none",numberOfRolls:100,numberOfDice:2,sidesPerDice:6,diceValues:[],savedSettings:e}),Ge=()=>{const{getLocalStorage:e,setLocalStorage:t}=Ue("savedSettings",[]),n=(l,f)=>{const[_,h]=f;switch(_){case"loadSetting":return{...l,...h.settingToLoad,diceValues:[]};case"saveSetting":{const d=Me(l);if(l.savedSettings.find(w=>pe(w,d)))return l;const g=[...l.savedSettings,d];return t(g),{...l,savedSettings:g}}case"deleteSetting":{const d=l.savedSettings.filter(g=>!pe(g,h.settingToDelete));return t(d),{...l,savedSettings:d}}case"updateHistogramView":return{...l,histogramView:h.histogramView};case"updateModifiers":return{...l,modifiers:h.modifiers,diceValues:[]};case"updateNumberOfRolls":return{...l,numberOfRolls:h.numberOfRolls,diceValues:[]};case"updateNumberOfDice":return{...l,numberOfDice:h.numberOfDice,diceValues:[]};case"updateSidesPerDice":return{...l,sidesPerDice:h.sidesPerDice,diceValues:[]};case"generateDiceValues":return{...l,diceValues:We(l)};default:return P()}},[r,o]=$e(n,Je(e())),i=fe(()=>De(r),[r]),s=fe(()=>Be(r),[r]),a=u("hr",{style:{width:"50%"}}),c=u("br",{style:{margin:"10px"}});return u("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[r.savedSettings.length?u(D,{children:[c,u("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},children:[u("div",{children:"Saved Settings:"}),r.savedSettings.map(l=>{const f=Fe(l.modifiers);return u("button",{style:{margin:"10px"},onClick:()=>{o(["loadSetting",{settingToLoad:l}]),o(["generateDiceValues"])},children:[l.numberOfRolls," rolls, ",l.numberOfDice," dice, d",l.sidesPerDice," ",f&&"("+f+")",u("span",{style:{marginLeft:"10px",padding:"5px 12px",borderRadius:"20px",backgroundColor:"rgba(105, 105, 105, 0.4)"},onClick:_=>{_.stopImmediatePropagation(),o(["deleteSetting",{settingToDelete:l}])},children:"X"})]})})]}),a]}):u(D,{}),c,u("form",{onSubmit:l=>{l.preventDefault(),o(["generateDiceValues"])},children:[u("label",{htmlFor:"numberOfRolls",children:"Number of Rolls"}),u("input",{id:"numberOfRolls",type:"number",value:r.numberOfRolls,onChange:l=>o(["updateNumberOfRolls",{numberOfRolls:l.currentTarget.valueAsNumber}])}),c,u("label",{htmlFor:"numberOfDice",children:"Number of Dice"}),u("input",{id:"numberOfDice",type:"number",value:r.numberOfDice,onChange:l=>o(["updateNumberOfDice",{numberOfDice:l.currentTarget.valueAsNumber}])}),c,u("label",{htmlFor:"sidesPerDice",children:"Sides per Dice"}),u("input",{id:"sidesPerDice",type:"number",value:r.sidesPerDice,onChange:l=>o(["updateSidesPerDice",{sidesPerDice:l.currentTarget.valueAsNumber}])}),c,u("div",{style:{display:"flex",justifyContent:"center"},children:[u("span",{children:[u("label",{htmlFor:"chooseHighest",children:"Choose Highest"}),u("input",{id:"chooseHighest",type:"checkbox",checked:r.modifiers=="chooseHighest",onChange:l=>o(["updateModifiers",{modifiers:l.currentTarget.checked?"chooseHighest":"none"}])})]}),c,u("span",{children:[u("label",{htmlFor:"chooseLowest",children:"Choose Lowest"}),u("input",{id:"chooseLowest",type:"checkbox",checked:r.modifiers=="chooseLowest",onChange:l=>o(["updateModifiers",{modifiers:l.currentTarget.checked?"chooseLowest":"none"}])})]})]}),c,u("div",{style:{display:"flex",justifyContent:"center"},children:[u("button",{type:"button",onClick:()=>o(["saveSetting"]),children:"Save"}),c,u("button",{type:"submit",children:"Roll Dice"})]})]}),c,u("div",{style:{display:"flex",justifyContent:"center"},children:[u("span",{children:[u("label",{htmlFor:"horizontalHistogram",children:"Horizontal"}),u("input",{id:"horizontalHistogram",type:"checkbox",checked:r.histogramView=="horizontal",onChange:l=>o(["updateHistogramView",{histogramView:l.currentTarget.checked?"horizontal":"vertical"}])})]}),c,u("span",{children:[u("label",{htmlFor:"verticalHistogram",children:"Vertical"}),u("input",{id:"verticalHistogram",type:"checkbox",checked:r.histogramView=="vertical",onChange:l=>o(["updateHistogramView",{histogramView:l.currentTarget.checked?"vertical":"horizontal"}])})]})]}),c,a,isNaN(s)?u(D,{}):u("div",{children:["Expected Value: ",s.toFixed(2)]}),c,i.length?u("h3",{children:u("u",{children:"Values Rolled"})}):u(D,{}),u(je,{state:r,histogram:i})]})};Le(u(Ge,{}),document.getElementById("app"));
